<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ClickSA | Live South African Headlines & Events</title>
<meta name="description" content="ClickSA delivers original summaries of South African news, sports, business, and events with local insights.">
<style>
body { font-family:'Poppins',sans-serif; background:#f8f9fa; margin:0; padding:0; color:#222; }
header { background:linear-gradient(to right,#007bff,#00b74a,#ffcc00); color:white; text-align:center; padding:20px; font-size:1.8em; font-weight:bold; display:flex; justify-content:center; align-items:center; gap:10px; position:relative; }
.logo-icon { width:35px; height:25px; border-radius:4px; animation:spin 6s linear infinite; }
.click-icon { display:inline-block; margin-left:8px; animation:clickMove 1s infinite; }
@keyframes spin { from{transform:rotateY(0);} to{transform:rotateY(360deg);} }
@keyframes clickMove { 0%{transform:translateY(0);} 50%{transform:translateY(-5px);} 100%{transform:translateY(0);} }

#cityAlerts { background:#ff4444; color:white; text-align:center; padding:10px; font-weight:bold; font-size:14px; }

nav { display:flex; justify-content:center; background:#222; color:white; gap:20px; padding:10px; flex-wrap:wrap; position:sticky; top:0; z-index:99; }
nav button { background:none; border:none; color:white; cursor:pointer; font-size:1em; transition:color .3s; }
nav button:hover { color:#00b74a; }
nav button.active { border-bottom:2px solid #ffcc00; color:#ffcc00; }

section { padding:20px; max-width:1100px; margin:auto; }
h2 { text-align:center; margin-bottom:20px; color:#007bff; }

.news-container, #eventsGrid { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; }
.news-card, .event-card { background:#fff; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); overflow:hidden; width:300px; transition:transform .2s; display:flex; flex-direction:column; }
.news-card:hover, .event-card:hover { transform:translateY(-5px); box-shadow:0 4px 10px rgba(0,0,0,0.2); }
.news-card img, .event-card img { width:100%; height:180px; object-fit:cover; }
.news-content, .event-content { padding:15px; display:flex; flex-direction:column; flex:1; }
.news-title, .event-title { font-size:18px; font-weight:bold; margin-bottom:10px; color:#222; }
.news-desc { font-size:14px; color:#555; margin-bottom:10px; }
.news-meta, .event-date, .event-location { font-size:12px; color:#888; margin-bottom:6px; }
.event-date { color:#00b74a; }
.event-location { color:#ff8800; }
.event-link { background:#007bff; color:white; padding:8px 12px; border-radius:6px; text-decoration:none; display:inline-block; transition:transform .2s; }
.event-link:hover { transform:scale(1.05); background:#00b74a; }
.news-content a { background:#007bff; color:white; padding:8px 12px; border-radius:6px; text-decoration:none; display:inline-block; transition:transform .2s; }
.news-content a:hover { transform:scale(1.05); background:#00b74a; }

.ads { background:#f1f1f1; text-align:center; margin:20px 0; padding:10px; border-radius:8px; font-size:14px; }

#backToTop { display:none; position:fixed; bottom:40px; right:30px; z-index:99; font-size:18px; border:none; outline:none; background-color:#00b74a; color:white; cursor:pointer; padding:12px 16px; border-radius:50%; box-shadow:0 2px 6px rgba(0,0,0,0.3); transition:background .3s, transform .3s; }
#backToTop:hover { background-color:#007bff; transform:scale(1.1); }

footer { text-align:center; padding:20px; font-size:14px; background:#222; color:white; }
footer a { text-decoration:none; color:#ffcc00; }

#breakingNews { background:#ffcc00; color:#222; padding:8px 0; font-weight:bold; white-space:nowrap; overflow:hidden; position:relative; }
#breakingNewsContent { display:inline-block; padding-left:100%; }

/* ---------- Carousel Styles ---------- */
.carousel-container { position:relative; display:flex; align-items:center; max-width:1000px; margin:20px auto; overflow:hidden; }
.carousel-track-container { overflow:hidden; width:100%; }
.carousel-track { display:flex; transition:transform 0.5s ease-in-out; list-style:none; padding:0; margin:0; }
.carousel-track li { min-width:300px; margin-right:20px; background:#fff; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); display:flex; flex-direction:column; }
.carousel-track img { width:100%; height:180px; object-fit:cover; border-radius:10px 10px 0 0; }
.carousel-content { padding:10px; display:flex; flex-direction:column; }
.carousel-title { font-weight:bold; font-size:16px; color:#007bff; margin-bottom:6px; }
.carousel-desc { font-size:14px; color:#555; margin-bottom:6px; }
.carousel-track a { background:#007bff; color:white; padding:6px 10px; border-radius:6px; text-decoration:none; display:inline-block; transition:transform .2s; }
.carousel-track a:hover { transform:scale(1.05); background:#00b74a; }
.carousel-btn { background:#00b74a; border:none; color:white; font-size:20px; padding:10px; cursor:pointer; border-radius:50%; margin:0 5px; }
.carousel-btn:hover { background:#007bff; }

/* ---------- Weather Styles ---------- */
.weather-card {
  background:#fff; border-radius:10px; padding:10px 15px; width:180px; text-align:center;
  box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:transform .2s; display:flex; flex-direction:column; align-items:center;
}
.weather-card:hover { transform:translateY(-5px); }
.weather-city { font-weight:bold; font-size:16px; margin-bottom:5px; color:#007bff; }
.weather-temp { font-size:18px; font-weight:bold; margin-bottom:5px; color:#222; }
.weather-desc { font-size:14px; color:#555; }
.weather-icon { width:50px; height:50px; margin-bottom:5px; }
</style>
</head>
<body>

<header>
  üáøüá¶ ClickSA
  <span class="click-icon">
    <svg width="24" height="24" viewBox="0 0 24 24">
      <path d="M2 21h2V9.414l5.293 5.293 1.414-1.414L6 7.586V3h2v4.586l4.293 4.293 1.414-1.414L10 5.586V3h2v7.586l4 4V5h2v11.586l3.707 3.707-1.414 1.414L2 5V21z"/>
    </svg>
  </span>
  <img class="logo-icon" src="https://upload.wikimedia.org/wikipedia/commons/a/af/Flag_of_South_Africa.svg" alt="SA Flag">
</header>

<div id="cityAlerts">Loading live alerts...</div>

<div id="breakingNews"><div id="breakingNewsContent">Loading breaking news...</div></div>

<nav>
  <button class="active" onclick="showCategory('general')">General</button>
  <button onclick="showCategory('business')">Business</button>
  <button onclick="showCategory('sports')">Sports</button>
  <button onclick="showCategory('events')">Events</button>
</nav>

<div class="ads">[Insert AdSense Code Here]</div>

<section id="mainContent">
  <h2>Welcome to ClickSA</h2>
  <p>Original South African news summaries, entertainment, and upcoming events with local insights.</p>
</section>

<!-- ---------- Weather Section ---------- -->
<section id="weatherSection">
  <h2>üå§Ô∏è South Africa City Weather</h2>
  <div id="weatherContainer" style="display:flex; justify-content:center; flex-wrap:wrap; gap:15px;"></div>
</section>

<!-- ---------- Carousel Section ---------- -->
<section id="carouselSection">
  <h2>üî• Top News & Events</h2>
  <div class="carousel-container">
    <button class="carousel-btn prev">‚¨ÖÔ∏è</button>
    <div class="carousel-track-container">
      <ul class="carousel-track"></ul>
    </div>
    <button class="carousel-btn next">‚û°Ô∏è</button>
  </div>
</section>

<section id="newsSection">
  <div id="newsContainer" class="news-container"><p>Loading latest headlines...</p></div>
</section>

<section id="eventsSection">
  <h2>üéä Upcoming Events Calendar (South Africa)</h2>
  <div id="eventsGrid"><p>Loading upcoming events...</p></div>
</section>

<button id="backToTop" title="Back to Top">‚¨ÜÔ∏è</button>

<footer>
  &copy; 2025 ClickSA | Powered by Wintech Technologies<br>
  <a href="#">Privacy Policy</a> | 
  <a href="#">About</a> | 
  <a href="#">Contact</a>
</footer>

<script>
// ---------- RSS Feeds ----------
const categories = {
  general:['https://www.news24.com/rss','https://ewn.co.za/RSS','https://www.timeslive.co.za/rss/'],
  business:['https://www.businesslive.co.za/bd/rss/','https://businesstech.co.za/news/feed/'],
  sports:['https://www.sport24.co.za/RSS','https://ewn.co.za/RSS/Sport'],
  events:['https://www.channel24.co.za/rss','https://www.capetownmagazine.com/rss','https://www.joburg.co.za/feed/']
};
const fallbackImages = ['https://via.placeholder.com/300x180?text=ClickSA+News'];

// ---------- Fetch Feed ----------
async function fetchFeed(url){
  try{
    const resp = await fetch('https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(url));
    const data = await resp.json();
    if(!data.items) return [];
    return data.items.slice(0,6).map(item=>({
      title:item.title,
      description:item.description?.replace(/<[^>]+>/g,'').split('.').slice(0,2).join('.')||item.title,
      link:item.link,
      image:item.thumbnail||fallbackImages[Math.floor(Math.random()*fallbackImages.length)]
    }));
  }catch(e){ return []; }
}

// ---------- Load News ----------
async function loadCategoryNews(cat){
  const container=document.getElementById('newsContainer');
  container.innerHTML='<p>Loading news...</p>';
  const feeds=categories[cat]||[];
  const results=await Promise.all(feeds.map(fetchFeed));
  const articles=results.flat();
  container.innerHTML='';
  articles.forEach(a=>{
    const card=document.createElement('div');
    card.className='news-card';
    card.innerHTML=`<img src="${a.image}" alt="News"><div class="news-content"><div class="news-title">${a.title}</div><div class="news-desc">${a.description}</div><a href="${a.link}" target="_blank">Read More</a></div>`;
    container.appendChild(card);
  });
}

// ---------- Load Events ----------
async function loadEvents(){
  const grid=document.getElementById('eventsGrid');
  grid.innerHTML='<p>Loading events...</p>';
  const feeds=categories.events;
  const results=await Promise.all(feeds.map(fetchFeed));
  const events=results.flat();
  grid.innerHTML='';
  events.forEach(ev=>{
    const div=document.createElement('div');
    div.className='event-card';
    div.innerHTML=`<img src="${ev.image}" alt="Event"><div class="event-content"><div class="event-title">${ev.title}</div><div class="event-date">üóìÔ∏è ${new Date().toLocaleDateString('en-ZA')}</div><div class="event-location">South Africa</div><a class="event-link" href="${ev.link}" target="_blank">View Event Details</a></div>`;
    grid.appendChild(div);
  });
}

// ---------- Carousel ----------
async function loadCarousel(){
  const track = document.querySelector('.carousel-track');
  track.innerHTML='';
  const allFeeds=[...categories.general,...categories.events];
  const results=await Promise.all(allFeeds.map(fetchFeed));
  const items=results.flat().slice(0,12);
  items.forEach(i=>{
    const li=document.createElement('li');
    li.innerHTML=`<img src="${i.image}" alt="Top Item"><div class="carousel-content"><div class="carousel-title">${i.title}</div><div class="carousel-desc">${i.description}</div><a href="${i.link}" target="_blank">Read More</a></div>`;
    track.appendChild(li);
  });
  let index=0;
  const total=track.children.length;
  const prevBtn=document.querySelector('.carousel-btn.prev');
  const nextBtn=document.querySelector('.carousel-btn.next');
  function updateCarousel(){ const slideWidth = track.children[0].getBoundingClientRect().width + 20; track.style.transform = `translateX(-${index * slideWidth}px)`; }
  nextBtn.addEventListener('click', ()=>{ index = (index + 1) % total; updateCarousel(); });
  prevBtn.addEventListener('click', ()=>{ index = (index - 1 + total) % total; updateCarousel(); });
  setInterval(()=>{ index = (index + 1) % total; updateCarousel(); },5000);
}

// ---------- Breaking News Ticker ----------
async function loadBreakingNews(){
  const allFeeds=[...categories.general,...categories.business,...categories.sports,...categories.events];
  const results=await Promise.all(allFeeds.map(fetchFeed));
  const allNews=results.flat().slice(0,15);
  const container=document.getElementById('breakingNewsContent');
  container.innerText = allNews.map(a=>`üéâ ${a.title}`).join('  ‚Ä¢  ');
  let start=container.offsetWidth;
  container.style.transform=`translateX(${start}px)`;
  const speed=1;
  function tick(){ const left=container.getBoundingClientRect().left; if(left+container.offsetWidth<0) container.style.transform=`translateX(${window.innerWidth}px)`; else container.style.transform=`translateX(${left-speed}px)`; requestAnimationFrame(tick); }
  tick();
}

// ---------- City Alerts ----------
const alertCities=['Johannesburg','Cape Town','Durban','Pretoria','Port Elizabeth'];
function loadCityAlerts(){
  const container=document.getElementById('cityAlerts');
  const types=['Storm Warning','Heavy Rain','Heat Alert','Festival Today','Traffic Advisory'];
  const alerts = alertCities.map(c=>`‚ö†Ô∏è ${c}: ${types[Math.floor(Math.random()*types.length)]}`);
  container.innerHTML=alerts.join('  ‚Ä¢  ');
}
loadCityAlerts();
setInterval(loadCityAlerts,10*60*1000);

// ---------- Weather ----------
const cities = [
  {name:'Johannesburg', icon:'‚òÄÔ∏è'}, 
  {name:'Cape Town', icon:'‚õÖ'}, 
  {name:'Durban', icon:'üåßÔ∏è'}, 
  {name:'Pretoria', icon:'üå§Ô∏è'}, 
  {name:'Port Elizabeth', icon:'üå¶Ô∏è'}
];
function randomTemp(min=16,max=35){ return Math.floor(Math.random()*(max-min+1))+min; }
function randomDesc(){ const desc=['Sunny','Partly Cloudy','Rainy','Stormy','Windy','Clear']; return desc[Math.floor(Math.random()*desc.length)]; }
function loadWeather(){
  const container=document.getElementById('weatherContainer');
  container.innerHTML='';
  cities.forEach(c=>{
    const card=document.createElement('div');
    card.className='weather-card';
    card.innerHTML=`<div class="weather-city">${c.name}</div><div class="weather-icon">${c.icon}</div><div class="weather-temp">${randomTemp()}¬∞C</div><div class="weather-desc">${randomDesc()}</div>`;
    container.appendChild(card);
  });
}
loadWeather();
setInterval(loadWeather,10*60*1000);

// ---------- Navigation & Back to Top ----------
function showCategory(cat){ document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active')); event.target.classList.add('active'); loadCategoryNews(cat); loadEvents(); loadCarousel(); loadBreakingNews(); loadCityAlerts(); loadWeather(); }
const backToTopBtn=document.getElementById("backToTop");
window.onscroll=function(){ if(document.body.scrollTop>300||document.documentElement.scrollTop>300) backToTopBtn.style.display="block"; else backToTopBtn.style.display="none"; };
backToTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:'smooth'});});

// ---------- Initial Load ----------
loadCategoryNews('general');
loadEvents();
loadCarousel();
loadBreakingNews();
setInterval(()=>{ const active=document.querySelector('nav button.active').innerText.toLowerCase(); loadCategoryNews(active); loadEvents(); loadCarousel(); loadBreakingNews(); loadCityAlerts(); loadWeather(); },5*60*1000);
</script>
</body>
</html>
